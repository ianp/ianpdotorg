
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Digital Magpie</title>
  <meta name="author" content="Ian Phillips">

  
  <meta name="description" content="When is using XML based configuration files preferable to using source
based interfaces and/or classes? I’ve been taking a look at command
frameworks &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ianp.org/page/21/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Digital Magpie" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4fa7e376613f5d2014000195');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>



  

  

  

  

  



  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-266232-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Digital Magpie</a></h1>
  
    <h2>Ooh, ooh, look - shiny things!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ianp.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/05/02/configuration-via-xml-or-code">Configuration via XML or Code?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-05-02T19:34:56+01:00" pubdate data-updated="true">May 2<span>nd</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When is using XML based configuration files preferable to using source
based interfaces and/or classes? I’ve been taking a look at command
frameworks such as those that come with the various rich client toolkits
out there, and also <a href="http://pietschy.org/software/gui-commands/">GUI Commands</a>. It struck me that
many things which I would allow via a concrete class or an abstract base
class these frameworks try to push out into XML files. I can see that
XML could be good for huge apps such as, for example,
<a href="http://www.eclipse.org/">Eclipse</a>, where the developers want to provide
extensibility without a huge class loading overhead.</p>

<p>But most of these
rich client kits are designed to be used to create small to medium sized
applications and if this is what you are doing then I don’t see the
point of scattering configuration information around the place, it’s
better to keep it all together and the only place that this can happen
is right there in the source code.</p>

<p>One final argument for keeping some
of this external is for easy internationalisation, but this can be
achieved simply using standard Java resource bundles or Eclipse style
NLS libraries (I prefer the eclipse style NLS approach as it makes code
more readable).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/04/17/play-pumps">Play Pumps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-04-17T21:47:51+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a really cool idea (and not at all what you’d expect to find on
a website called <a href="http://www.playpumps.org/">Play Pumps</a>)! It’s a kid’s
roundabout that also acts as a pump for a fresh water well. They’re
definitely getting some cash from me.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/04/17/dynamic-date-formatting">Dynamic Date Formatting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-04-17T17:12:49+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve noticed a neat feature in <a href="http://www.cocoatech.com/pf4/">Path Finder</a> where it changes the date format
used to display time stamps in the main table based on the width of the
column. In <a href="http://rvsnoop.org">RvSnoop</a> I was allowing the user to set
a preferred format as a configuration option, but this seems much
better. It turns out that this is pretty easy to achieve in Java, just
use the following class:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DateCellRenderer</span> <span class="kd">extends</span> <span class="n">DefaultTableCellRenderer</span> <span class="o">{</span>
</span><span class="line">    <span class="c1">// Or load these from a user preference...</span>
</span><span class="line">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">DateFormat</span><span class="o">[]</span> <span class="n">dateFormats</span> <span class="o">=</span> <span class="o">{</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yy-MM-dd HH:mm:ss.SSS&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;MM/dd HH:mm:ss.SSS&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm:ss.SSS&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm:ss.SS&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm:ss.S&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm:ss&quot;</span><span class="o">),</span>
</span><span class="line">    <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm&quot;</span><span class="o">)</span> <span class="o">};</span>
</span><span class="line">    <span class="kd">private</span> <span class="kt">int</span> <span class="n">currentWidth</span><span class="o">;</span>
</span><span class="line">    <span class="kd">private</span> <span class="n">Font</span> <span class="n">currentFont</span><span class="o">;</span>
</span><span class="line">    <span class="kd">private</span> <span class="n">DateFormat</span> <span class="n">currentFormat</span><span class="o">;</span>
</span><span class="line">    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
</span><span class="line">    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getTableCellRendererComponent</span><span class="o">(</span><span class="n">JTable</span> <span class="n">table</span><span class="o">,</span> <span class="n">Object</span> <span class="n">value</span><span class="o">,</span>
</span><span class="line">    <span class="kt">boolean</span> <span class="n">isSelected</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">hasFocus</span><span class="o">,</span> <span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">        <span class="n">DateFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="n">getFormat</span><span class="o">(</span><span class="n">table</span><span class="o">.</span><span class="na">getColumnModel</span><span class="o">().</span><span class="na">getColumn</span><span class="o">(</span><span class="n">col</span><span class="o">).</span><span class="na">getWidth</span><span class="o">(),</span> <span class="n">table</span><span class="o">);</span>
</span><span class="line">        <span class="n">String</span> <span class="n">displayed</span> <span class="o">=</span> <span class="n">value</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">format</span><span class="o">.</span><span class="na">format</span><span class="o">((</span><span class="n">Date</span><span class="o">)</span> <span class="n">value</span><span class="o">)</span> <span class="o">:</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
</span><span class="line">        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getTableCellRendererComponent</span><span class="o">(</span><span class="n">table</span><span class="o">,</span> <span class="n">displayed</span><span class="o">,</span> <span class="n">isSelected</span><span class="o">,</span> <span class="n">hasFocus</span><span class="o">,</span> <span class="n">row</span><span class="o">,</span> <span class="n">col</span><span class="o">);</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="kd">private</span> <span class="n">DateFormat</span> <span class="nf">getFormat</span><span class="o">(</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="n">JTable</span> <span class="n">table</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">        <span class="n">Font</span> <span class="n">font</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="na">getFont</span><span class="o">();</span>
</span><span class="line">        <span class="k">if</span> <span class="o">(</span><span class="n">currentWidth</span> <span class="o">==</span> <span class="n">width</span> <span class="o">&amp;&amp;</span> <span class="n">currentFormat</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">font</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">currentFont</span><span class="o">))</span> <span class="o">{</span>
</span><span class="line">            <span class="k">return</span> <span class="n">currentFormat</span><span class="o">;</span>
</span><span class="line">        <span class="o">}</span>
</span><span class="line">        <span class="n">currentWidth</span> <span class="o">=</span> <span class="n">width</span><span class="o">;</span>
</span><span class="line">        <span class="n">currentFont</span> <span class="o">=</span> <span class="n">font</span><span class="o">;</span>
</span><span class="line">        <span class="n">FontMetrics</span> <span class="n">metrics</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="na">getFontMetrics</span><span class="o">(</span><span class="n">font</span><span class="o">);</span>
</span><span class="line">        <span class="n">date</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">())</span>
</span><span class="line">        <span class="k">for</span> <span class="o">(</span><span class="n">DateFormat</span> <span class="n">df</span> <span class="o">:</span> <span class="n">dateFormats</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">            <span class="k">if</span> <span class="o">(</span><span class="n">metrics</span><span class="o">.</span><span class="na">stringWidth</span><span class="o">(</span><span class="n">df</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">))</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">                <span class="n">currentFormat</span> <span class="o">=</span> <span class="n">df</span><span class="o">;</span>
</span><span class="line">                <span class="k">return</span> <span class="n">df</span><span class="o">;</span>
</span><span class="line">                <span class="o">}</span>
</span><span class="line">            <span class="o">}</span>
</span><span class="line">        <span class="o">}</span>
</span><span class="line">        <span class="n">currentFormat</span> <span class="o">=</span> <span class="n">dateFormats</span><span class="o">[</span><span class="n">dateFormats</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
</span><span class="line">        <span class="k">return</span> <span class="n">currentFormat</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You will need to register it with your <code>JTable</code> via <code>myTable.getColumnModel().getColumn(0).setCellRenderer(myRenderer);</code>
and away you go. You can have more or less format options by altering
the static array in the class.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/04/14/rvsnoop">rvSnoop</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-04-14T13:48:14+01:00" pubdate data-updated="true">Apr 14<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve taken over pretty much all of the development of the
<a href="http://rvsnoop.org">rvSnoop</a> utility now, the first major new release
has been put out today with a number of changes in it. Here, briefly,
are the plans for the next few versions:</p>

<ul>
  <li>
    <p>A graphical widget to display messages instead of the text field.</p>
  </li>
  <li>
    <p>More import/export formats for messages.</p>
  </li>
  <li>
    <p>General user interface clean-up.</p>
  </li>
  <li>
    <p>Better documentation. I’ll have more plans once I get to know the code a little better.</p>
  </li>
  <li>
    <p>Add a new action to delete connections.</p>
  </li>
  <li>
    <p>Add support for viewing serialized Java objects.</p>
  </li>
  <li>
    <p>Move the preferences to a separate dialog.</p>
  </li>
  <li>
    <p>Add support for editing messages before republishing.</p>
  </li>
</ul>

<p>Along
with some more code cleanup. After that I’m planning to push for a 2.0
release which should contain a much more robust export mechanism,
persistent record ledgers, and graphical charts. Finally, once the code
settles down a bit I’m going to look into supporting EMS messages (as a
separate project, emsSnoop).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/12/01/moved-to-textdrive">Moved to TextDrive</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-12-01T22:24:59+00:00" pubdate data-updated="true">Dec 1<span>st</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve moved this site to a new host, at
<a href="http://www.textdrive.com">TextDrive</a>. Unfortunately it didn’t do as
smoothly as I’d like (all my fault, as well!). It may take a day or two
to get all of the old entries imported and the other site pages loaded
again. Doh!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/22/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/20/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/11/17/quick-environment-setup">Quick Environment Setup</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/17/praxis-winning-at-bingo">Praxis: Winning at Bingo</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/15/programming-praxis">Programming Praxis</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/09/builders-and-factories">Builders and Factories</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/08/for-some-definition-of-easily">For Some Definition of Easily</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ianp">@ianp</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ianp',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2003&ndash;2014 &mdash; Ian Phillips &mdash;
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, <a href="http://github.com/">GitHub</a>, and too much coffee.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ianpdotorg';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
