
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Digital Magpie</title>
  <meta name="author" content="Ian Phillips">

  
  <meta name="description" content="Now that the 1.6 release of RvSnoop is out of the door (OK, 1.6.1 ‘cause of a wart inthe original release), there are certain
features that I’d like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ianp.org/page/9/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Digital Magpie" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>


<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4fa7e376613f5d2014000195');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>




  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-266232-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Digital Magpie</a></h1>
  
    <h2>Ooh, ooh, look - shiny things!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ianp.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/19/oh-such-a-good-infrastructure">Oh, Such a Good Infrastructure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-19T21:40:23+01:00" pubdate data-updated="true">Dec 19<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Now that <a href="http://downloads.sourceforge.net/rvsn00p/rvsnoop-1.6.1-bin.tgz">the 1.6 release</a> of <a href="http://rvsnoop.org/">RvSnoop</a> is out of the door (OK, 1.6.1 ‘cause of a wart inthe original release), there are certain
features that I’d like to see added, and for the 2.0 release I want to
have in place a foundation that will make it easier to add these. A full
list of features can be found in the <a href="http://svn.sourceforge.net/viewvc/*checkout*/rvsn00p/trunk/rvsn00p/doc/plans.txt">plan file</a> in the <a href="http://sourceforge.net/svn/?group_id=63447">RvSnoop Subversion repository</a>, but some of the big ones that will impact
the overall architecture of RvSnoop are:</p>

<h3 id="pluggable-persistence">Pluggable Persistence</h3>

<p>Mechanism I’m going to migrate the record ledger to being persistent,
there are a couple of options here as to how this will be handled: flat
files, a combination of flat files and <a href="http://lucene.apache.org/java/">Lucene</a> based indexes, or
some kind of JDBC backed store.</p>

<p>One option would be to make the
persistence mechanism plug-able, this would also ease the use of an
all-in-memory storage system, like the one that is currently used (which
is useful when you just want to use RvSnoop as a graphical replacement
for <code>tibrvlisten</code>).</p>

<h3 id="able-to-run-headless">Able to Run Headless</h3>

<p>I’d like to add the
ability to run RvSnoop without the UI, this would be based on loading a
pre-configured project. Combining this feature with a JDBC backed store
this could be really useful for auditing and logging messages.</p>

<h3 id="ems-support">EMS Support</h3>

<p>I registered the <a href="http://emssnoop.org/">emssnoop.org</a> domain at the same time
as <a href="http://rvsnoop.org/">rvsnoop.org</a>, and there has been a project on SourceForge for a
while, even if it hasn’t had anything checked in to it yet! An open
question is whether to try for generic JMS support or just work with EMS
directly.</p>

<h3 id="user-written-plug-ins">User Written Plug-ins</h3>

<p>It would be nice to be able to
cleanly extend RvSnoop if required, without going back and modifying the
main code base.</p>

<h3 id="so-what-about-20">So, What About 2.0?</h3>

<p>All (well, most) of these
features point to a need for an extensible plug-in system,
<a href="http://www.eclipse.org/">Eclipse</a> has shown that a good way of architecting a desktop
application (or any application, for that matter) is to build it
entirely from plug-ins wrapped around a small core. So, the upshot of
this is that I’m planning on migrating to a managed runtime, probably
<a href="http://www.osgi.org/">OSGi</a>, for the 2.0 release. I’ll talk about this more in another
post. In particular, what’s the cost/benefit ratio of using this type of
runtime; and which runtimes are good?</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/08/factory-methods-vs-factory-classes-in-java">Factory Methods vs. Factory Classes in Java</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-08T00:07:33+01:00" pubdate data-updated="true">Dec 8<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are a number of cases in Java where I find myself wanting to use a
variant of the <a href="http://en.wikipedia.org/wiki/Factory\_method\_pattern">factory method pattern</a>. For example:</p>

<ul>
  <li>
    <p>To control the number of objects created, or to create a limited set of objects (one per value of an <a href="http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#enums">enumeration</a> for example, this could use an backed <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/EnumMap.html">map</a> in J2SE 5);</p>
  </li>
  <li>
    <p>To perform some checks before creating object. Like <code>init()</code> called before instantiating instead of after.</p>
  </li>
</ul>

<p><img class="right" src="/images/2006/12/factory-method.png" title="Factory Method" /></p>

<p>Often my instinct here is to add some static methods to the class and
make the constructors private. I think that in part this comes from the
pattern name: factory <em>method</em>, I think a better name would have been
factory <em>class</em>, or maybe just factory. Anyway, doing this has some
advantages in that it reduces the number of classes that need writing
and keeps all of the code in one place. Like the image to the right.</p>

<p><img class="left" src="/images/2006/12/factory-class.png" title="Factory Class" /></p>

<p>But there are drawbacks as
well. The main one being that I cannot then treat the factory like a
bean, this makes it more difficult to display in UI (by preventing the
use of common binding frameworks for example). So a better approach is
more like the image to the left.</p>

<p>Note
that this is still one class short of the pattern described in the
<a href="http://en.wikipedia.org/wiki/Factory\_method\_pattern">Wikipedia article</a>. The <em>Creator</em> interface is just unnecessary
as far as I’m concerned (although there is a case for it’s existence in
scenarios like the various Java SPI-style interfaces).</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/07/rvsnoop-356">RvSnoop 356</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-07T18:59:37+01:00" pubdate data-updated="true">Dec 7<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new development build of <a href="http://rvsnoop.org/">RvSnoop</a> is available for
<a href="http://downloads.sourceforge.net/rvsn00p/rvsnoop-356-bin.tgz">downloading</a>. This release contains all of the features that will
be in the finished 1.6 release, due out sometime next week. Changes from
the last development build include:</p>

<ul>
  <li>
    <p>Added support for republishing on different connections.</p>
  </li>
  <li>
    <p>Added column to ledger to display wire size of messages.</p>
  </li>
  <li>
    <p>Fixed bug that caused republished messages to be filtered incorrectly from the subject hierarchy.</p>
  </li>
  <li>
    <p>Fixed bug with ledger renderer which caused striping to break when columns were added/removed from the view.</p>
  </li>
  <li>
    <p>Minor code clean-ups and removal of a couple of unused methods.</p>
  </li>
  <li>
    <p>Updated the FAQs page with correct details of timestamp formatting in ledger (this hasn’t been pushed out to the public site yet).</p>
  </li>
</ul>

<p>The only things left to do now (assuming no new bugs are found)
are some additional testing and documentation updates.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/06/rvsnoop-353">RvSnoop 353</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-06T00:42:35+01:00" pubdate data-updated="true">Dec 6<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new development version of <a href="http://rvsnoop.org/">RvSnoop</a> is now available for
<a href="http://downloads.sourceforge.net/rvsn00p/rvsnoop-353-bin.tgz">download</a>. This version adds:</p>

<ul>
  <li>
    <p>Saving and restoring messages between sessions.</p>
  </li>
  <li>
    <p>Remove Connection as a context sensitive menu option.</p>
  </li>
  <li>
    <p>Improved drag and drop support.</p>
  </li>
</ul>

<p>And also fixes some bugs
involving the screen menu on Mac OS X. The save and restore messages
option writes the selected records from the ledger to a ZIP based binary
file format (it’s the same format that is used internally by the copy
and paste mechanism). The format has also been enhanced to include
subject information for the messages, as this is stripped out by the raw
Rendezvous library calls.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/11/04/30000000-lines-of-code-wtf">30,000,000 Lines of Code? WTF?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-11-04T21:08:26+01:00" pubdate data-updated="true">Nov 4<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Apparently (according to <a href="http://blogs.msdn.com/macmojo/archive/2006/11/03/it-s-all-in-the-numbers.aspx">this</a>) Mac Office is 30,000,000 lines of
code, that’s a lot of code to try to keep bug free! Out of curiosity, I
downloaded <a href="http://www.kclee.de/clemens/java/javancss/">a utility to count lines of code</a> and found that
<a href="http://rvsnoop.org/">RvSnoop</a> is only ~7,000 lines of code. That’s only counting
non-comment lines, I don’t know how well commented the MS codebase is.
Not that there’s any real comparison in functionality between the two of
course!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/11/01/killing-capitals-in-itunes">Killing Capitals in iTunes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-11-01T17:21:17+01:00" pubdate data-updated="true">Nov 1<span>st</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The latest version of <a href="http://www.apple.com/itunes/">iTunes</a> has made several changes to the UI
(again), most of them not for the better as can be read about
<a href="http://dsandler.org/wp/archives/2006/09/12/itunes-7-dissection">here</a>. Still, at least one of the annoyances, the use of all
capitals for section headings in the source list, can be easily
corrected. The section headings are stored as localizable strings in a
resource file; so first shut down iTunes, then just open the
<code>/Applications/iTunes.app/Contents/Resources/English.lproj/Localizable.strings</code>
in a text editor (e.g. <a href="http://www.macromates.com/">TextMate</a>) and search for the following
lines:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="ini"><span class="line"><span class="na">&quot;135.011&quot;</span> <span class="o">=</span> <span class="s">&quot;LIBRARY&quot;;</span>
</span><span class="line"><span class="na">&quot;135.012&quot;</span> <span class="o">=</span> <span class="s">&quot;DEVICES&quot;;</span>
</span><span class="line"><span class="na">&quot;135.013&quot;</span> <span class="o">=</span> <span class="s">&quot;STORE&quot;;</span>
</span><span class="line"><span class="na">&quot;135.014&quot;</span> <span class="o">=</span> <span class="s">&quot;PLAYLISTS&quot;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>these need changing to:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="ini"><span class="line"><span class="na">&quot;135.011&quot;</span> <span class="o">=</span> <span class="s">&quot;Library&quot;;</span>
</span><span class="line"><span class="na">&quot;135.012&quot;</span> <span class="o">=</span> <span class="s">&quot;Devices&quot;;</span>
</span><span class="line"><span class="na">&quot;135.013&quot;</span> <span class="o">=</span> <span class="s">&quot;Store&quot;;</span>
</span><span class="line"><span class="na">&quot;135.014&quot;</span> <span class="o">=</span> <span class="s">&quot;Playlists&quot;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>or anything else that you like. Now when you restart iTunes it should
all look better.</p>

<p><strong>Update:</strong> You also want to change this line: <code>"135.006" = "SHARED";</code> to this: <code>"135.006" = "Shared";</code></p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/10/19/1060-comes-of-age">1060 Comes of Age</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-10-19T20:30:58+02:00" pubdate data-updated="true">Oct 19<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of <a href="http://www.1060.org/">1060 NetKernel</a> was released today, version 3.1. I
had a brief play around with the previous release but never really had
the time to dig into it too deeply. It always looked pretty neat though,
a possible good solution to base adapter (in the Tibco sense) style
components on. One of the <a href="http://www.1060.org/blogxter/entry?publicid=50D78082263C424820791B1886C6C971">advertised</a> features of the new release
is a newly written ‘Getting Started Guide’, so this may be a good
opportunity to have another look.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/10/17/adding-namespace-support-to-rvsnoop">Adding Namespace Support to RvSnoop</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-10-17T09:58:15+02:00" pubdate data-updated="true">Oct 17<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For <a href="http://rvsnoop.prg/">RvSnoop</a> I’m currently working on adding namespaces to all of
the files that are used to save the application preferences and also the
project files. This is a Good Thing in and of itself, as it allows me to
use <a href="http://www.w3.org/XML/Schema">XML Schema</a> to validate and document the files formats. But,
more importantly, it gives me the opportunity to refactor as I go alond,
the general plan is to make the projects in the next release be based on
directories rather than a single XML file, this will allow me to use a
disk based storage mechanism for messages so that they will be
persistent across sessions.</p>

<h3 id="playing-well-with-others">Playing Well With Others</h3>

<p>At the same
time, I’ve taken the opportunity to include some of the <a href="http://www.apache.org/">Apache</a>
<a href="http://jakarta.apache.org/commons/index.html">Commons</a> libraries in the build. There were (well, still are) a
number of small utility classes scattered around which I’m planning on
replacing with the versions from Apache. One side effect of this is that
the build is increasing in size, to help control this I’m going to
remove the <a href="http://www.oracle.com/database/berkeley-db/je/index.html">Berkeley DB</a> dependency from the build. I was
origiannly planning to use this for the on disk message store but I’ve
changed my mind here. My current thinking is to just write the messages
out to files but to have a set of indexes (probably built using
<a href="http://lucene.apache.org/java/docs/index.html">Lucene</a>) as well for searching and sorting. There should be
another (alpha) release out later this week with the Commons and
Berkeley DB changes complete, and a release next week with the new
project structure.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/10/12/why-i-do-not-like-skype">Why I Do Not Like Skype</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-10-12T10:20:29+02:00" pubdate data-updated="true">Oct 12<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is nothing more annoying than people who insist on standing up and
talking loudly on their mobile phones in the middle of an open plan
office (just one more reason why open plan offices suck arse). At least
in the past it was just a few ignorant tossers who did this, but now
with <a href="http://www.skype.com/">Skype</a> a whole bunch of otherwise considerate people seem to
think it’s fine to yammer away at high volume while sat at their PCs.
Bastards.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/10/06/more-transparent-development-for-rvsnoop">More Transparent Development for RvSnoop</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-10-06T14:59:13+02:00" pubdate data-updated="true">Oct 6<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Although it’s an open source project that anybody can help out with, in
practice <a href="http://rvsnoop.org/">RvSnoop</a> is developed by me at present. However, a couple
of people have asked — either in the forums or by email — what the
current development status is. Well, in a word, it’s going slower than I
had planned! However, I’ll start posting to this blog a little about
what I’m working on and what my current plans are, and also try to start
making more frequent releases. I’ll rearrange the distributables
slightly as well, given the speed of most connections these days I no
longer see the point of keeping a <em>binary only</em> download so I’m just
goint to include the compressed source and API docs will all of the
releases, this will be labelled as the <em>RvSnoop Stable</em> release. I’ll
make more frequent releases of the code that I am working on as a
<em>RvSnoop Development</em> release. But first, a little explanation of what
you can expect from these unstable releases. I’ll post later about my
plans for the upcoming releases.</p>

<h3 id="its-all-greek-to-me">It’s All Greek To Me</h3>

<p>Projects use diffferent terminology for there release schedules, here’s how I’m
using the terms.</p>

<h4 id="alpha">Alpha</h4>

<p>If a release is labelled <em>alpha</em> then
it means that I am still adding new features and working on major known
bugs. Once the release is feature complete and all of the major bugs
have been squashed I’ll go through and clean up all of the strings,
finally I’ll spend some time cleaning up any glaring UI problems. Once
this is complete I’ll relabel the release <em>beta</em>.</p>

<h4 id="beta">Beta</h4>

<p>Moving
forward one of the main points about the <em>beta</em> release is that it
will be considered to be a <em>string freeze</em> release. I’m aiming for
release 1.7 to be fully prepared for internationalization and hopefully
some of the people who have been using RvSnoop will help out with
translations. Also at this point the UI will be basically finished, so
the beta releases are for testing and minor bug fixing. Also during this
phase I will run all of the analysis tasks (currently only <a href="http://pmd.sourceforge.net/">PMD</a>,
but more are planned) and clean up whatever they reveal.</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/01/09/builders-and-factories">Builders and Factories</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/08/for-some-definition-of-easily">For Some Definition of Easily</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/17/i-remain-a-free-man">I Remain a Free Man</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/05/stroke-me-gently">Stroke Me Gently</a>
      </li>
    
      <li class="post">
        <a href="/2012/10/31/rearranging-the-apples">Rearranging the Apples</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ianp">@ianp</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ianp',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2003&ndash;2013 &mdash; Ian Phillips &mdash;
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, <a href="http://github.com/">GitHub</a>, and too much coffee.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ianpdotorg';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
